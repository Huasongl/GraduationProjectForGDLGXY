package com.gdlgxy.internshipcommunity.module.mainpageconfig;import android.content.res.AssetManager;import com.alibaba.fastjson.JSON;import com.alibaba.fastjson.TypeReference;import com.gdlgxy.internshipcommunity.CommunityApplication;import com.gdlgxy.internshipcommunity.module.mainpageconfig.data.BottomBar;import com.gdlgxy.internshipcommunity.module.mainpageconfig.data.Destination;import java.io.BufferedReader;import java.io.IOException;import java.io.InputStream;import java.io.InputStreamReader;import java.util.HashMap;public class DestinationConfig {    private static HashMap<String, Destination> sDestConfig;    private static BottomBar sBottomBar;    public static HashMap<String, Destination> getsDestConfig(){        if(sDestConfig == null){            String content = parserFile("destination.json");            sDestConfig = JSON.parseObject(content,                    new TypeReference<HashMap<String, Destination>>(){}.getType());        }        return sDestConfig;    }    public static BottomBar getsBottomBar(){        if(sBottomBar==null){            String content = parserFile("main_tabs_config.json");            sBottomBar = JSON.parseObject(content, BottomBar.class);        }        return sBottomBar;    }    private static String parserFile(String fileName){        AssetManager assets =                CommunityApplication.getApplication().getResources().getAssets();        InputStream stream = null;        BufferedReader reader = null;        StringBuffer buffer = new StringBuffer();        try {            stream = assets.open(fileName);            reader = new BufferedReader(new InputStreamReader(stream));            String line = null;            while ((line = reader.readLine()) !=null){                buffer.append(line);            }        } catch (IOException e) {            e.printStackTrace();        }finally {            try {                if(stream!=null){                    stream.close();                }                if(reader!=null){                    reader.close();                }            } catch (IOException e) {                e.printStackTrace();            }        }        return buffer.toString();    }}